# Beam Call 02

## Research Updates: Post-Quantum Cryptography

### **Prev:** [Call 01](https://github.com/ethereum/pm/blob/master/Breakout-Room-Meetings/beam-chain/meeting_01.md)

### **Meeting Date/Time:** Friday 2025/2/28 at 14:00 UTC

### **Meeting Duration:** 1.25 hours

### [GitHub Agenda](https://github.com/ethereum/pm/issues/1336)

### [Audio/Video of the meeting](https://youtu.be/BtYb_guRq78?si=v3YQLvV6sjPcR8zW)

### Moderator: Justin Drake

### Notes: Will Corcoran

## Slides
| # | Presentation Topic | Presenter | Link |
|---|-------------------|-----------|------|
| 1 | Main Presentation | Justin Drake | [Slides](https://docs.google.com/presentation/d/1V3utqODaki03C_UqOEuD9sD_sm_rqSq035nMD_qa7Sg/edit#slide=id.g2dce0f25bba_0_200) |
| 2 | Karkot Client | Elias Tazartes | [Slides](https://docs.google.com/presentation/d/1zjXOUuP_Dyiuxb5w35E4n-EWf8UD4x2oKvKlsIxG_-s/edit#slide=id.p) |
| 3 | Poseidon Cryptanalysis Update | Dmitry Khovratovich | [Slides](https://docs.google.com/presentation/d/1ikzNaWUUp5AWWRsMAxWvVkdZWaE48DJoOc80-pcvls4/edit#slide=id.p) |
| 4 | Winternitz-XMSS Update | Benedikt Wagner | [Slides](https://drive.google.com/file/d/1QB5Z-N0XqOPoFWkkLbjxUZSqiHaNg6q1/view?usp=sharing) |
| 5 | Minimal zkVM Designs & Benchmarking | Thomas Coratger | [Slides](https://hackmd.io/@tcoratger/B16moU0q1x#/) |
| 6 | Lattice-based Signature Schemes | Josh Beal and Ben Fisch | [Slides](https://docs.google.com/presentation/d/1zFLsyotYRmAyiMMPIthaHvLbn2RyBVuWp8Q_SO4f68k/edit#slide=id.p) |
| 7 | Formal Verification and Conjectures in Lean4 | Alex Hicks | [Links](https://docs.google.com/document/d/1MWF2xKY_Gm9vNGKz38jhB2xYuhRR_laKpCoOh9nUSlo/edit?tab=t.0) |
| 8 | MPC-friendly Hash Functions | Alexandre Adomnicăi | [Slides](https://docs.google.com/presentation/d/171wAcnzA6W7qvhARuLrqfPkHSQeK0Y6rfkNL3x2rTzs/edit#slide=id.g2f10ee2799c_1_146) |



## Summary

| Section | Description |
|---------|-------------|
| 02.1 | **Meeting Focus** Call dedicated to sharing research updates on post-quantum cryptography within the beam chain project with research teams providing updates on their progress. |
| 02.2 | **Project Timeline** Justin Drake shared that the beam project is currently being specced out, with a complete holistic beam spec expected by the end of the year. A buffer period for 2025 will allow existing teams time to prepare and possibly hire additional personnel. |
| 02.3 | **Development Goals** Team aims to provide Ethereum Layer 1 with real-time proving, specifically the execution layer. Expertise in various programming languages was highlighted, with collaborations between LambdaClass and Nethermind on systems programming in the StarkNet ecosystem. |
| 02.4 | **Social Update #1: Kakarot** Elias introduced the newest beam client team, Kakarot Labs.  Kakarot consists of ~10 engineers and mathematicians, mostly based in France w/ Expertise in VMs, Cairo, Python, Rust, STARKs. Kakarot has a goal for 2025 - real-time proving of Ethereum L1 blocks. Kakarot also specializes in the state transition function and ZK state transition function. The zkSTF needs to be consensus critical and compliant with specifications, potentially using Cairo for better performance. |
| 02.5 | **STF Separation** Two types of consensus layer teams were outlined: traditional clients with submodules (p2p, fork choice, state management, etc.) including State Transition Function (STF, ~10% of code), and specialized teams focusing on Zero-Knowledge STF (zkSTF). The zkSTF needs to be consensus-critical, spec-compliant, and SNARK-friendly, with opportunity to extract STF as a library (similar to blst for BLS signatures). Languages like Cairo (DSL) could be used for formal verification and performance. Kakarot zkSTF was mentioned as potentially faster than RISC-V zkVM and could be consumed as a library by existing teams like Prysm. Collaboration potential between shell-specialized teams and new zkSTF teams was highlighted. |
| 02.6 | **Social Update #2** Ladislaus reported 75 unique proposals submitted for the project's new name. Ladislaus plans to curate proposals and create a shortlist for client teams to vote on, with broader community involvement in the decision-making process. |
| 02.7 | **EF Research ARG Update:**  Applied Research Group (ARG) has welcomed two new post-quantum experts, Tomars and Han, who are now contributing their expertise to the beam chain project, enhancing the team’s capacity in this specialized field. |
| 02.8 | **Post-Quantum Cryptography** Discussion highlighted that the suggested direction for post-quantum signatures is to utilize hash-based cryptography (as suggested by Vialik back in 2018!), specifically Lamport signatures and their potential for aggregation. Poseidon2 was suggested as the foundational hash function for the Strawman proposal. |
| 02.9 | **Post-Quantum Strawman Proposal:** The strawman proposal for post-quantum cryptography outlines a framework starting with Poseidon2 as the foundational hash function, utilizing Merkle trees for hashing, and incorporating Winternitz (a variant of Lamport one-time signatures) and XMSS (Merkle-based many-time signatures); it further suggests WHIR (an upgraded, performant version of FRI for SNARK aggregation of post-quantum SNARKs based on IOPs/IPPs) and introduces SSK (Simple SNARKify), a minimal zkVM coined for recursive aggregation of signatures and SNARKs, potentially applicable to both recursion and verification of signatures like XMSS.|
| 02.10 | **De-Risk the Strawman Proposal, Accelerationism Proposal Summary:** Following the post-quantum cryptography strawman proposal, efforts to accelerate development include a crypto analysis endeavor led by Dmitry (Poseidon Cryptanalysis Update from beam call one), with further optimizations researched by Benedikt, Dmitry, and others beyond those in the paper; a yet-to-start project explores information-theoretic conjectures to reduce proof sizes (e.g., halving them) if proven, with bounties proposed to incentivize proofs formalized in Lean4 under Alex Hicks’ zk-Formal Verification effort (also from beam call one), alongside a benchmarking initiative led by Han, while alternatives to modules like the hash function and signatures are also being explored.|
| 02.11 | **De-Risk the Strawman Proposal, Alternatives Proposal Summary:** Building on the strawman proposal, alternatives are under consideration for each module, with Josh Beal presenting on lattice-based signature schemes as a key alternative to hash-based approaches like Poseidon2, which are favored for their simplicity, minimalism, ease of analysis, and the aesthetic appeal of unifying Ethereum cryptography under a single hash function; meanwhile, on the zkVM front, the newly introduced SSK (Simple SNARKify) is being rapidly developed by Tomas, who recently joined and is exploring various options, with further details to be shared in his upcoming presentation. |
| 02.12 | **Researcher Presentation #1: Poseidon Cryptanalysis Update by Dmitry Khovratovich** The Poseidon Cryptanalysis Initiative, led by Dmitry Khovratovich of the Ethereum Foundation, aims to bolster the security of the Poseidon hash function—a critical component of the beam chain—through a comprehensive 2024-2026 program ending by January 2027, focusing on 31-, 64-, and 256-bit field instances; managed by a team of three (A. Sanso, G. Kadianakis, and Khovratovich) with an advisory board (JP Aumasson, E. Ben-Sasson, DE Hopwood, D. Lubarov, R. Rothblum), the 2025 budget of $600K funds five key efforts: bounties (with $66K earned, engaging multiple teams on intentionally weak instances), research grants (supporting three recipients starting work on theoretical gaps), workshops (scheduled for March 16 in Rome and May 3-4 in Madrid alongside major conferences), research awards (awaiting standout papers, with some promising 2025 analyses), and a Groebner basis exploratory (launching next month with specialized hardware experiments on 100+ instances, supervised by expert Ludovic Perret), all designed to invite public scrutiny and ensure Poseidon’s robustness, with progress reported as steady and the function still secure.|
| 02.13 | **Researcher Presentation #2: Winternitz-XMSS Update by Benedikt Wagner** Presentation on the rigorous security analysis "Hash-Based Multi-Signatures for Post-Quantum Ethereum" by Justin Drake, Dmitry Khovratovich, Mikhail Kudinov, and Benedikt Wagner, published January 14, 2025, from the Ethereum Foundation. In this talk, Benedikt shared updates on creating a new, super-secure signature system for Ethereum that can withstand future quantum computers, replacing the current BLS signatures. He discussed a paper his team wrote, available online, which outlines a set of possible solutions using hash-based methods—think of these as digital fingerprints. They’ve built a basic version of this system, tested it, and found one option that stands out: it keeps signature sizes small (under 3 kilobytes), signs and verifies documents in less than a millisecond, though generating a key takes about 11 minutes for a roughly 50-day lifespan—recent tweaks have already sped this up. Looking ahead, they’re checking how secure their chosen hash function (Poseidon2) really is, figuring out practical lifespans for keys (like extending to 2 years), deciding how to bundle these signatures efficiently, and exploring feedback from other researchers outside Ethereum who’ve suggested different ideas. The goal is a simple, solid system, and while there’s work to do, they’re optimistic about making it user-friendly and effective.|
| 02.14 | **Researcher Presentation #3: Minimal zkVM Designs & Benchmarking by Thomas Coratger** In his presentation "Minimal zkVM Designs & Benchmarking," Thomas Coratger explored efforts to build a simple, fast, and secure zero-knowledge virtual machine (zkVM) for aggregating post-quantum signatures, starting with benchmarks showing Plonky3 as a top performer at 1.75-2 million Poseidon2 permutations per second on modern CPUs, outpacing Stwo, Binius, and Hashcaster (60K/s for keccak256), with room for improvement via lookup optimizations; he detailed Hashcaster’s exploration, using boolcheck and techniques like Frobenius theory and the 4 Russians method for efficient Boolean formula verification, yielding a promising but slower keccak proving system compared to Poseidon2 results. Thomas also shared signature aggregation attempts—initial tests with SP1 and OpenVM underperformed, but a Plonky3-based OpenVM prover with lookups achieved 2.5K signatures per second (though with large 3MB proofs), targeting 10K/s and 128KiB proofs through optimizations like simpler provers, GKR LogUp, and STIR. He outlined criteria for an ideal minimal zkVM—ultra-simple, high-performance, and flexible—highlighting explorations like Binius M3, SP1 recursion, Cairo’s provability, Jolt’s simplicity (<25K LOC), and OpenVM’s modularity, with future plans to investigate GKR-style provers, Polyhedra’s 2.16M Poseidon hashes/s, WHIR for proof size reduction, and binary field techniques, all encapsulated as a developer-friendly library despite ongoing performance trade-off research. |
| 02.15 | **Audience Question: How does a specialized zkVM for signature aggregation fit into the broader state transition functions of the beam chain?** <br> **Answer:** <br> - The specialized zkVM for signature aggregation is distinct from the general-purpose zkVM used to SNARKify the entire beam chain state transition, where snakification happens off-chain and operators can choose their preferred zkVM, such as SP1, RISC Zero, Cairo, or Jolt, based on trust and preference. <br> - In contrast, the minimal ZK VM for signature aggregation is enshrined in the layer 1 (L1) consensus for slashing purposes, requiring the L1 to recognize valid aggregate signature proofs, thus necessitating a specific, simple zkVM chosen by the chain’s designers. This minimal zkVM is designed to be secure and verifiable, performing only signature aggregation rather than general-purpose proving, and within the state transition function and would be enshrined in consensus. This zkVM handles verification—not aggregation—relying on an imported verifier library compiled to the target zkVM instruction set.|
| 02.15 | **Researcher Presentation #4: Lattice-based Signature Schemes by Josh Beal and Ben Fisch** In their presentation "Aggregating Falcon Signatures for Ethereum's Beam Chain," Josh Beal and Ben Fisch from Yale University propose a hybrid approach to enhance signature aggregation for the beam chain, combining the strengths of code-based SNARKs (like BaseFold, which efficiently aggregates XMSS signatures of 1-4 KiB using Poseidon2, as seen with Plonky3) and lattice-based SNARKs (like LaBRADOR, suited for smaller Falcon signatures at 666 bytes); they aim to overcome LaBRADOR’s limitation of verifier complexity growing linearly with witness size and its unpolished implementation, striving for the best of both worlds—small Falcon signatures paired with fast proving and verification times akin to code-based systems. This could potentially support five times more validators than XMSS’s 3 KiB signatures if performance holds, offering a significant boost to Ethereum’s capacity. |
| 02.16 | **Researcher Presentation #5: Formal Verification and Conjectures in Lean4 by Alex Hicks** In the presentation "Formal Verification and Conjectures in Lean4," Alex Hicks from the Ethereum Foundation outlined efforts to formally verify RISC-V zk(E)VMs, focusing on a cryptography track that develops executable, verified specifications for proof systems like FRI, STIR, and WHIR in the ZKLib repository on GitHub, using Lean4; the approach leverages Lean blueprints—structured frameworks for large proving projects, as seen in efforts like the prime number theorem—to define theorems, lemmas, and conjectures with dependency graphs, enabling rapid progress by stating assumptions (marked "sorry" in Lean) and offering bounties for proofs, such as those in https://eprint.iacr.org/2024/1279 (Appendix A), which Lean’s type checker validates automatically, minimizing review errors and inviting contributions from mathematicians outside Ethereum. This method ensures security and completeness for post-quantum signature systems, reducing reliance on client diversity by verifying a single, robust implementation (akin to blst), with blueprints for FRI, STIR, and WHIR expected within months, supported by grants and an expanding community of Lean users. |
| 02.17 | **Researcher Presentation #6: MPC-friendly Hash Functions by Alexandre Adomnicăi** In his talk "MPC-friendly Hash Functions," Alexandre Adomnicăi from Obol discussed how Ethereum’s distributed validators (DVs)—which split work among multiple participants—currently rely on BLS signatures that easily support a "threshold" setup, where only a certain number of participants need to sign for it to count, but this won’t work as smoothly with new post-quantum hash-based signatures (HBSs); he suggested two fixes: using SNARKs to prove enough signatures are valid (though this might complicate things), or calculating HBSs securely across multiple parties with a method called MPC, using Poseidon2 on a 31-bit field like Koala Bear. Early tests with the MP-SPDZ tool showed it takes about a second to create a signature this way, which is decent but needs work to be practical, with signature sizes ranging from about 1 to 5 kilobytes depending on settings. Looking ahead, his team plans to figure out the best security setup, explore ways to balance speed and memory use, and test how to generate keys without ever having the full key in one place.|


## Action Items

1. Complete holistic beam specification by end of year
2. Curate name proposals and create shortlist for client teams to vote on (Lead: Ladislaus)
3. Implement bounties for mathematical conjectures related to post-quantum cryptography
4. Continue work on Poseidon cryptanalysis initiative including bounties, grants, and workshops
5. Study Poseidon security and determine efficiency of signature aggregation methods (Lead: Benedikt)
6. Share repository link with proof system specifications (Lead: Alex Hicks)
7. Explore implications of formal verification on client diversity
8. Investigate SNARK solutions for signature aggregation challenges
9. Identify optimal security model for efficient MPC protocol implementation


## Next Call

Friday 2025/3/4 at 13:00 UTC, [Agenda](https://github.com/ethereum/pm/issues/1389)
